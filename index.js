(function(){"use strict";const e=window.Vue;function i(){return window.panel}e.computed,e.customRef,e.defineAsyncComponent,e.defineComponent,e.effectScope,e.getCurrentInstance,e.getCurrentScope,e.h,e.inject,e.isProxy,e.isReactive,e.isReadonly,e.isRef,e.isShallow,e.markRaw,e.nextTick,e.onActivated,e.onBeforeMount,e.onBeforeUnmount,e.onBeforeUpdate,e.onDeactivated,e.onErrorCaptured,e.onMounted,e.onRenderTracked,e.onRenderTriggered,e.onScopeDispose,e.onServerPrefetch,e.onUnmounted,e.onUpdated,e.provide,e.proxyRefs,e.reactive,e.readonly,e.ref,e.shallowReactive,e.shallowReadonly,e.shallowRef,e.toRaw,e.toRef,e.toRefs,e.triggerRef,e.unref,e.useAttrs,e.useCssModule,e.useCssVars,e.useListeners,e.useSlots,e.watch,e.watchEffect,e.watchPostEffect,e.watchSyncEffect;function r(n,o,s,l,h,p,m,V){var t=typeof n=="function"?n.options:n;return o&&(t.render=o,t.staticRenderFns=s,t._compiled=!0),{exports:n,options:t}}const a={extends:"k-view-button",props:{jobId:String},data(){return{isLoading:!1}},computed:{currentIcon(){return this.isLoading?"loader":this.icon}},methods:{async onClick(){if(this.isLoading)return;this.isLoading=!0;const n=i();try{this.jobId?(await n.post(`join/${this.jobId}`),n.notification.success(n.t("join.buttons.refresh.success"))):(await n.post("join/refresh-all"),n.notification.success(n.t("join.buttons.refresh.all.success"))),await n.reload()}catch(o){n.notification.error({message:o.message||n.t("join.buttons.refresh.error")})}finally{this.isLoading=!1}}}};var c=function(){var o=this,s=o._self._c;return s("k-button",o._b({attrs:{icon:o.currentIcon,disabled:o.isLoading},on:{click:o.onClick}},"k-button",o.$props,!1))},f=[],d=r(a,c,f);const u=d.exports;panel.plugin("tobimori/join",{components:{"k-join-refresh-button":u},icons:{join:'<path d="M23.162 8.258H21.77v3.811L19.137 8.49a.58.58 0 0 0-.445-.234l-1.94.003v7.619h2.23v-3.802l2.628 3.576c.1.134.268.218.451.218h1.1a.827.827 0 0 0 .839-.814V9.072a.826.826 0 0 0-.838-.814m-12.55 3.818c0-.899-.754-1.631-1.68-1.631-.927 0-1.68.732-1.68 1.63 0 .9.753 1.63 1.68 1.63s1.68-.73 1.68-1.63zm2.236-.003c0 2.097-1.752 3.797-3.915 3.797-2.161 0-3.914-1.7-3.914-3.797s1.753-3.798 3.915-3.798 3.914 1.7 3.914 3.798m.557-6.258v1.35h2.23V5h-1.394a.824.824 0 0 0-.836.815m0 10.055h2.23V8.266h-2.23zM3.07 8.266h1.39v5.44c.002 2.39-1.996 4.328-4.46 4.328V15.87c1.23 0 2.23-.97 2.23-2.163V9.083c0-.45.376-.817.84-.817"/>',briefcase:'<path d="M7 5V2C7 1.44772 7.44772 1 8 1H16C16.5523 1 17 1.44772 17 2V5H21C21.5523 5 22 5.44772 22 6V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V6C2 5.44772 2.44772 5 3 5H7ZM9 13H4V19H20V13H15V16H9V13ZM20 7H4V11H9V9H15V11H20V7ZM11 11V14H13V11H11ZM9 3V5H15V3H9Z" />'}})})();
